(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],d=0,v=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(v.length)v.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],a=!0,i=1;i<o.length;i++){var c=o[i];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},r={app:0},n=[];function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Header",{on:{"delete-local-storage":t.deleteLocalStorage}}),o("v-main",[o("v-container",[o("router-view",{attrs:{books:t.books},on:{"add-book-list":t.addBook,"update-book-info":t.updateBookInfo}})],1)],1),o("Footer")],1)},n=[],s=(o("a4d3"),o("e01a"),o("fb6a"),o("a434"),o("e9c4"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[o("v-spacer"),o("v-btn",{attrs:{color:"error"},on:{click:t.deleteLocalStorage}},[t._v("リストを削除する")])],1)],1)}),i=[],c={name:"Header",methods:{deleteLocalStorage:function(){this.$emit("delete-local-storage")}}},l=c,u=o("2877"),d=o("6544"),v=o.n(d),p=o("40dc"),m=o("8336"),f=o("2fa4"),b=Object(u["a"])(l,s,i,!1,null,null,null),k=b.exports;v()(b,{VAppBar:p["a"],VBtn:m["a"],VSpacer:f["a"]});var h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._v("Footer")])},g=[],_={},w=_,y=Object(u["a"])(w,h,g,!1,null,null,null),V=y.exports,x="books",S={name:"App",data:function(){return{books:[],newBook:null}},mounted:function(){if(localStorage.getItem(x))try{this.books=JSON.parse(localStorage.getItem(x))}catch(t){localStorage.removeItem(x)}},methods:{addBook:function(t){this.books.push({id:this.books.length,title:t.title,image:t.image,description:t.description,readData:"",memo:""}),this.saveBooks(),this.goToEditPage(this.books.slice(-1)[0].id)},removeBook:function(t){this.books.splice(t,1),this.saveBooks()},saveBooks:function(){var t=JSON.stringify(this.books);localStorage.setItem(x,t)},updateBookInfo:function(t){var e={id:t.id,readDate:t.readDate,memo:t.memo,title:this.books[t.id].title,image:this.books[t.id].image,description:this.books[t.id].description};this.books.splice(t.id,1,e),this.saveBooks(),this.$router.push("/")},goToEditPage:function(t){this.$router.push("/edit/".concat(t))},deleteLocalStorage:function(){var t="LocalStorageのデータを削除してもよろしいですか？";window.confirm(t)&&(localStorage.setItem(x,""),localStorage.removeItem(x),this.books=[],this.$router.push("/"))}},components:{Header:k,Footer:V}},B=S,O=o("7496"),j=o("a523"),I=o("f6c4"),$=Object(u["a"])(B,r,n,!1,null,null,null),C=$.exports;v()($,{VApp:O["a"],VContainer:j["a"],VMain:I["a"]});var R=o("8c4f"),E=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("v-btn",{attrs:{color:"primary",to:"/search"}},[t._v("検索する")])],1)],1),o("v-row",t._l(t.books,(function(e){return o("v-col",{key:e.id,attrs:{cols:"12",sm:"6"}},[o("v-card",[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:e.image}})],1),o("v-col",{attrs:{cols:"8"}},[o("v-card-title",[t._v(t._s(e.title))]),t._v(" 読んだ日: "+t._s(e.readDate)+" "),o("br"),t._v(" 感想: "+t._s(e.memo)+" "),o("v-spacer"),o("v-card-actions",[o("v-btn",{attrs:{to:{name:"BookEdit",params:{id:e.id}},color:"indigo",fab:"",small:"",dark:""}},[o("v-icon",[t._v("mdi-pencil")])],1)],1)],1)],1)],1)],1)})),1)],1)},T=[],D={props:{books:Array}},P=D,L=o("b0af"),A=o("99d9"),M=o("62ad"),F=o("132d"),J=o("adda"),H=o("0fd9"),N=Object(u["a"])(P,E,T,!1,null,null,null),q=N.exports;v()(N,{VBtn:m["a"],VCard:L["a"],VCardActions:A["a"],VCardTitle:A["b"],VCol:M["a"],VIcon:F["a"],VImg:J["a"],VRow:H["a"],VSpacer:f["a"]});var U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"本のタイトルを検索"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),o("v-row",[o("v-col",{attrs:{cols:"3"}},[o("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.search(t.keyword)}}},[t._v(" 検索する ")])],1),o("v-col",{attrs:{col:"3"}},[o("v-btn",{attrs:{color:"secondary",to:"/"}},[t._v("一覧に戻る")])],1)],1),o("v-row",t._l(t.searchResults,(function(e,a){return o("v-col",{key:e.index,attrs:{cols:"12",md:"6"}},[o("v-row",[o("v-card",[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:e.image}})],1),o("v-col",{attrs:{cols:"8"}},[o("v-card-title",[t._v(t._s(e.title))]),t._v(" "+t._s(e.description)+" "),o("v-spacer"),o("v-card-actions",[o("v-btn",{attrs:{fab:"",dark:"",color:"indigo"},on:{click:function(e){return t.addBookList(a)}}},[o("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)],1)],1)],1)],1)],1)],1)})),1)],1)},z=[],G=o("b85c"),K=o("1da1"),Q=(o("96cf"),o("d3b7"),o("3ca3"),o("ddb0"),o("9861"),{name:"BookSearch",data:function(){return{keyword:"",searchResults:[]}},methods:{addBookList:function(t){this.$emit("add-book-list",this.searchResults[t])},search:function(t){var e=this;return Object(K["a"])(regeneratorRuntime.mark((function o(){var a,r,n,s,i,c,l,u,d,v;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.searchResults=[],a="https://www.googleapis.com/books/v1/volumes?",r={q:"inititle:".concat(t),maxResults:40},n=new URLSearchParams(r),o.next=6,fetch(a+n).then((function(t){return t.json()}));case 6:s=o.sent,console.log(s.items),i=Object(G["a"])(s.items);try{for(i.s();!(c=i.n()).done;)l=c.value,u=l.volumeInfo.title,d=l.volumeInfo.imageLinks,v=l.volumeInfo.description,e.searchResults.push({title:u||"",image:d?d.thumbnail:"",description:v?v.slice(0,40):""})}catch(p){i.e(p)}finally{i.f()}case 10:case"end":return o.stop()}}),o)})))()}}}),W=Q,X=o("8654"),Y=Object(u["a"])(W,U,z,!1,null,null,null),Z=Y.exports;v()(Y,{VBtn:m["a"],VCard:L["a"],VCardActions:A["a"],VCardTitle:A["b"],VCol:M["a"],VIcon:F["a"],VImg:J["a"],VRow:H["a"],VSpacer:f["a"],VTextField:X["a"]});var tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-card",{staticClass:"mx-auto"},[o("v-row",[o("v-col",{attrs:{cols:"4"}},[o("v-img",{attrs:{src:t.book.image}})],1),o("v-col",{attrs:{cols:"8"}},[o("v-card-title",[t._v(" タイトル:"+t._s(t.book.title)+" ")]),t._v(" 読んだ日: "),o("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[o("v-text-field",t._g(t._b({attrs:{"prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",r,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[o("v-date-picker",{attrs:{locale:"jp-ja","day-format":function(t){return new Date(t).getDate()}},on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" 感想: "),o("v-textarea",{staticClass:"mx-2",model:{value:t.book.memo,callback:function(e){t.$set(t.book,"memo",e)},expression:"book.memo"}},[t._v(" "+t._s(t.book.memo)+" ")]),o("v-card-actions",[o("v-btn",{attrs:{color:"secondary"}},[t._v("一覧に戻る")]),o("v-btn",{attrs:{color:"info"},on:{click:t.updateBookInfo}},[t._v("保存する")])],1)],1)],1)],1)],1)],1)],1)},et=[],ot={name:"BookEdit",props:{books:Array},data:function(){return{book:"",date:"",menu:!1}},beforeRouteEnter:function(t,e,o){o((function(t){t.$nextTick((function(){t.book=t.books[t.$route.params.id],t.book.readDate?t.date=t.book.readDate:t.date=(new Date).toISOString().substr(0,10)}))}))},methods:{updateBookInfo:function(){this.$emit("update-book-info",{id:this.$route.params.id,readDate:this.date,memo:this.book.memo})}}},at=ot,rt=o("2e4b"),nt=o("e449"),st=o("a844"),it=Object(u["a"])(at,tt,et,!1,null,null,null),ct=it.exports;v()(it,{VBtn:m["a"],VCard:L["a"],VCardActions:A["a"],VCardTitle:A["b"],VCol:M["a"],VDatePicker:rt["a"],VImg:J["a"],VMenu:nt["a"],VRow:H["a"],VTextField:X["a"],VTextarea:st["a"]}),a["a"].use(R["a"]);var lt=[{path:"/",name:"BookIndex",component:q},{path:"/search",name:"BookSearch",component:Z},{path:"/edit/:id",name:"BookEdit",component:ct},{path:"*",redirect:"/bookapp"}],ut=new R["a"]({mode:"history",base:"",routes:lt}),dt=ut,vt=o("f309");a["a"].use(vt["a"]);var pt=new vt["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:dt,vuetify:pt,render:function(t){return t(C)}}).$mount("#app")}});
//# sourceMappingURL=app.3d4c33a1.js.map